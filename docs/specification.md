# Техническое задание на разработку desktop-приложения для автоматической проверки задач

Концепция
------

Создание данного desktop-приложения необходимо для автоматического тестирования учебных и олимпиадных задач по программированию.

Задачи, решаемые при помощи приложения
------

Основная цель — автоматизация образовательного процесса. Предварительное тестирование задач, которое облегчит процедуру проверки задач преподавателем. Инкапсуляция задач и тестировщика на отдельном сервере.

Этапы работ по созданию системы
------

Работа по созданию данного приложения разделяется на следующие
этапы:
1. Этап оценки рисков и сроков разработки
2. Этап разработки дизайна
3. Этап разработки интерфейса пользователя
4. Этап разработки backend-архитектуры(API, UML)
5. Этап разработки unit-тестов
5. Этап верстки интерфеса пользователя
6. Этап разработки бизнес-логики backend-приложения
7. Защита проекта

Требования к проекту и программному обеспечению
------

Язык интерфейса приложения: русский.
Разработанное программное обеспечение (далее ПО) должно быть:
* совместимо с устройствами на базе Linux,
* совместимо с устройствами на базе Windows от 7 (и старше)

Серверная часть должна быть написана на языке программирования C++ с использованием библиотеки Boost.
Клиентская часть должна быть оформлена в виде desktop-приложения на языке программирования C++ с использование библиотеки Qt и QML.
Реализация серверной части должна поддерживать работу на базе
серверов Linux с поддержкой PostgreSQL.

Общие требования к дизайну экранов пользователя
------

Каждый элемент дизайна должен быть представлен в отдельном слое.
Возможна разработка шаблона под определенные разрешения.
Фон экрана должен быть однородным и повторяющимся. В том случае,
если требуется использовать текстурирование — текстура точно так же
должна быть однородной и легко дублируемой.

Группы пользователей
------

В рамках проекта предусмотрены следующие группы пользователей:
* **Анонимный пользователь** — это группа пользователей, которые не прошли процедуру регистрации и авторизации. Могут:
  * Смотреть список контестов
  * Смотреть турнирную таблицу контеста
  * Смотреть список участников контеста
  * Смотреть главную страницу контеста
  * Смотреть список задач контеста
  * Смотреть конкретную задачу контеста
  * Зарегистрироваться
  * Авторизироваться
* **Гость** — это группа пользователей, не участвующая в решении задач контеста. Обладает возможностями:
  * Смотреть список контестов
  * Смотреть турнирную таблицу контеста
  * Смотреть список участников контеста
  * Смотреть главную страницу контеста
  * Смотреть список задач контеста
  * Смотреть конкретную задачу контеста
  * Создать свой контест
  * Выйти из аккаунта
  * Редактировать профиль
* **Участник** — данная группа пользователей представляет основную массу пользователей проекта. Обладает возможностями группы **Гостей**, а также:
  * Написать сообщение организатору контеста
  * Отправить посылку
  * Смотреть список своих посылок
  * Смотреть отчёт по своей конкретной посылке
  * Покинуть контест
* **Организатор** —  группа пользователей, управляющая процессом проведения Контеста. Помимо возможностей группы **Гостей** обладает следующими возможностями:
  * Отправить посылку
  * Смотреть список своих посылок
  * Смотреть отчёт по своей конкретной посылке
  * Покинуть контест
  * Смотреть список сообщений в контесте
  * Отвечать на сообщения участников контеста
  * Удалить контест
  * Пригласить в организаторы
  * Настройка контеста

Переходы между группами пользователей
------

### Переход от анонимного пользователя к гостю
1. Зарегистрироваться/авторизироваться

### Переход от гостя к участнику
1. Перейти на список контестов
2. Перейти на конкретный контест
3. Перейти на список задач
4. Перейти на конкретную задачу
5. Отправить посылку

### Переход от гостя к организатору
* Создание контеста
  1. Перейти на список контестов
  2. Создать контест
* Приглашение от другого организатора
  1. Получить приглашение стать организатором
  2. Принять приглашение


Описание сущностей
------

В проекте представлены следующие сущности:
* Пользователь
* Контест
* Задачи
* Посылка
* Отчет по посылке
* Тест
* Отчет по тесту
* Сообщение
* Ответ
* Приглашение

### Пользователь 

Пользователь — человек, зарегистрированный в данном приложении. Он может быть гостем, участником или организатором контеста.

Анонимный пользователь — человек, зарегистрированный в данном приложении. Он может быть только гостем контеста.

Сущность Пользователь содержит следующие атрибуты:
* ID
* Имя
* Фамилия
* Псевдоним
* Почта
* Пароль

### Контест 

Набор задач по программированию для решения участниками c наборами тестовых данных, предоставленный огранизаторами.

Сущность Контест содержит следующие атрибуты:
* ID
* Название
* Описание
* Дата начала соревнования
* Дата конца соревнования
* Участники
* Организаторы
* Публичный/Приватный
* Список Доступа (для приватных)
  
Участники являются связью, многие ко многим, сущности Пользователь и Контест.

Организаторы являются связью, многие ко многим, сущности Пользователь и Контест. 

Список Доступа являются связью, многие ко многим, сущности Пользователь и Контест.

### Задача 

Конкретная задача для решения с набором тестов в Контесте для полученя рейтинговый баллов.

Сущность Задача содержит следующие атрибуты:
* ID
* Название
* Описание
* Ограничение по времени
* Ограничение по памяти
* Кол-во попыток
* Рейтинговый балл
* Штраф за попытку
* Штраф за время(за минуту)
* Контест
* Тестовые данные
* Ответы к тестам
  
Контест являются связью, один ко многим, сущности Контест и Задача.

### Посылка 

Посылка, отправленная пользователем тестирующей системе для проверки решения конкретной задачи.

Сущность Посылка содержит следующие атрибуты:
* ID
* Файл с ответом
* Задача
* Участник
* Дата и время отправления
  
Задача являются связью, один ко многим, сущности Задача и Посылка.

Участник являются связью, один ко многим, сущности Пользователь и Посылка.

### Отчет по посылке

Отчет — ответ тестирующей системы на отправленную пользователем посылку.

Сущность Отчет по посылке содержит следующие атрибуты:
* ID
* Код ответа
* Посылка
* Номер теста, на котором произошла ошибка(если произошла)
* Время работы
* Память
  
Посылка является связью, один ко одному, сущности Отчет и Посылка.

### Тест

Тест — входные данные с ожидаемым ответом.

Сущность Тест содержит следующие атрибуты:
* ID
* Задача
* Входные данные
* Ожидаемый ответ

Задача является связью, один ко многим, сущности Задача и Тест.

### Отчет по тесту

Отчет по тесту — ответ тестирующей системы на пройденный решением пользователя тест.

Сущность Тест содержит следующие атрибуты:
* ID
* Тест
* Отчёт по посылке
* Вердикт
* Время работы
* Память

Тест является связью, один ко одному(внутри одной посылки), сущности Отчет по тесту и Тест.

Отчёт по посылке является связью, один ко многим, сущности Отчёт по посылке и Отчет по тесту

### Сообщение 

Сообщение, отправленное участником организатору, в случае возникновения вопросов по поводу соревнования у участника.

Сущность Сообщение содержит следующие атрибуты:
* ID
* Текст
* Дата отправки
* Контест
* Автор
  
Автор являются связью, один ко многим, сущности Пользователь и Сообщение.

Контест являются связью, один ко многим, сущности Контест и Сообщение.

### Ответ 

Ответ, отправленный организатором, всем участникам данного контеста.

Сущность Ответ содержит следующие атрибуты:
* ID
* Текст
* Дата отправки
* Контест
* Организатор
  
Организатор являются связью, один ко многим, сущности Пользователь и Сообщение.

Контест являются связью, один ко многим, сущности Контест и Сообщение.

### Приглашение 

Приглашение, отправленное организатором, другому пользователю приложения на участие в организации контеста.

Сущность Пригашение содержит следующие атрибуты:
* ID
* Контест
* Автор
* Получатель
  
Автор являются связью, один ко многим, сущности Пользователь и Сообщение.

Получатель являются связью, один ко многим, сущности Пользователь и Сообщение.

Контест являются связью, один ко многим, сущности Контест и Сообщение.

Карта проекта / экраны пользователя
------

Главный экран(список контестов)
------

На данном экране пользователям будет предоставлен выбор основных
возможностей:
1. Пройти авторизацию (Sign In)
2. Пройти регистрацию, чтобы получить права пользователя (Sign Up)
3. Перейти на страницу соревнования (КОНТЕСТ)
4. Перейти к процедуре создания контеста (СОЗДАТЬ КОНТЕСТ)
5. Перейти к результатам завершенного контеста (Scoreboard)
6. Перейти к спискам участников (Participants)

Данный экран также появляется при нажатии на логотип приложения и при входе в приложение.

Экран авторизации
------

Данный экран приложения содержит следующие элементы:
* Поле ввода логина пользователя, указанного при регистрации
* Поле ввода пароля пользователя, указанного при регистрации
* Ссылка для восстановления пароля на email указанный при регистрации
* Кнопка подтвержения входа
* Кнопка закрытия формы

Данный экран появляется как форма поверх текущего экрана, блокируя его функционал.

Экран регистрации пользователя
------

Экран регистрации должен содержать следующие поля для заполнения:
* Имя пользователя, региструющегося на сайте
* Фамилия пользователя, региструющегося на сайте
* Никнейм пользователя, под которым он сможет проходить процедуру авторизации в приложении. Не может начинаться и заканчиватся пробелами.
* Пароль пользователя. Обязательно использование цифр и букв, минимальное количество символов — 6.
* Email пользователя. Поле, содержащее контактный адрес электронной почты пользователя для прохождения процедуры восстановления пароля, получения уведомлений от системы.

Данный экран представляет собой форму поверх текущего экрана, которая блокирует его функционал. После заполнении этой формы гость получит Email подтверждение прохождения процедуры регистрации в приложении. Так же после прохождения данной процедуры гость получит возможность войти в систему.

Профиль пользователя
------

Данный экран представляет собой заполненную форму регистрации с
возможностью редактирования любого из полей. 

Экран контеста
------

На экране контеста должна быть следующая информация:
* Название контеста
* Дата начала контеста
* Дата конца контеста
* Ссылка на переход к турнирной таблице
* Ссылка на переход к списку участников
* Ссылка на переход к списку посылок участника
* Список задач со ссылками на конкретные задачи
  * Название задачи
  * Текущая стоимость(с учетом штрафов)
* Список объявлений организаторов(можно скрыть)
* Часть турнирной таблицы, содержащая положение участника(+-1), или топ3?, если пользователь не участвует.

Экран турнирной таблицы
------

Экран турнирной таблицы представляет собой таблицу со следующими стобцами:
* Место
* Nickname участника
* Задача 1
* Задача 2
* и т.д.
* Сумма баллов участника за все задачи 

Строки таблицы отсортированы по сумме баллов участников.

Экран списка участников
------

На экране должны быть представлены:
* Суммарное количество участников контеста
* Список участников с ссылками на их профили
* Ссылка на переход к турнирной таблице
* Ссылка на переход к списку участников
* Ссылка на переход к списку посылок участника
* Ссылка на переход к главной странице контеста

Список участников должен быть отсортирован в лексикографическом порядке.

Экран списка посылок участника
------

На экране списка посылок участника представлена таблица со столбцами:
* Время посылки
* ID
* Задача
* Вердикт
* Время работы
* Память
* Тест
* Баллы
* Ссылка на страницу отчёта

Список посылок участника должен быть отсортирован по дате публикации.

Экран отчёта
------

На экране отчёта представлена таблица со столбцами:
* Номер теста
* Вердикт по тесту
* Время теста
* Память

Список теста участника должен быть отсортирован по номерам.

Экран конкретной задачи
------

На экране задачи должна быть представлена следующая информация:
* Название задачи
* Информация об ограничениях
* Информация о штрафах
* Текст задачи
* Кнопка выбора файла с решением
* Кнопка отправки задачи
* Текущая стоимость задачи
* Кол-во оставшихся попыток
* Список последних 3х попыток
* Ссылка на переход к турнирной таблице
* Ссылка на переход к списку участников
* Ссылка на переход к списку посылок участника
* Ссылка на переход к главной странице контеста

Сроки
-----
INF